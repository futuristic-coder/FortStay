<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FortStay</title>
</head>
<body>
    <div class="container my-4">
    <div class="row row-cols-1 row-cols-lg-3 row-cols-md-2 row-cols-sm-2 gx-3"> <!-- Changed row-col-3 to row-cols-3 and removed row-cols-xs-1 -->
        <% for(let listing of allListings) { %>
            <div class="col popup">
                <a href="/listings/<%=listing._id %>" style="text-decoration: none;">
                    <div class="card listing-card">
                        <img src="<%= listing.image.url %>" class="card-img-top listing-img" alt="listing_image" style="height: 20rem;"/>
                        <!-- <div class="card-img-overlay"></div> -->
                        <div class="card-body listcardbody">
                            <h4 class="card-title list-title">
                              <%= listing.title.length > 26 ? listing.title.substring(0, 25) + '....' : listing.title %>
                            </h4>    
                            <p class="mt-3 pppp">
                              <span class="price" data-base-price="<%= listing.price %>"><%= listing.price.toLocaleString("en-IN") %></span> 
                              <span class="nightt">/ night</span> 
                              <span class="gst-label">(excl. GST)</span>
                            </p>
                            
                            <div class="card-text d-flex justify-content-between">
                              <p class="location"><i class="fa-solid fa-location-crosshairs"></i>&nbsp; <%= listing.location %>, <%= listing.country %></p>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        <% } %>
    </div>
</div>   
</body>
</html>